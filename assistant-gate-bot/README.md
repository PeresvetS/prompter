# ü§ñ Assistant Gate Bot

Telegram –±–æ—Ç —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π OpenAI Assistant –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –ø–æ –º–µ—Ç–æ–¥–∏–∫–µ PJ Ace —Å —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã –∏ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å—é.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ Telegram Bot

- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏** –Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
- **OpenAI Assistant** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è —É–º–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** —Å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–æ–π —á–µ—Ä–µ–∑ Whisper API
- **–õ–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤** (50 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- **–°–∏—Å—Ç–µ–º–∞ –±–∞–Ω–æ–≤** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Webhook –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–ø–∏—Å–∏

### ‚úÖ Admin Panel

- **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (–æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –∞–∫—Ç–∏–≤–Ω—ã–µ, –∑–∞–±–∞–Ω–µ–Ω–Ω—ã–µ)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ –ø–æ–∏—Å–∫–æ–º
- **–ë–∞–Ω/—Ä–∞–∑–±–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
- **–°–±—Ä–æ—Å –ª–∏–º–∏—Ç–æ–≤** –∑–∞–ø—Ä–æ—Å–æ–≤
- **Responsive –¥–∏–∑–∞–π–Ω** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ Production

- **Rate Limiting** –¥–ª—è –≤—Å–µ—Ö API endpoints
- **Security Headers** (Helmet.js, CSP, HSTS)
- **Input Validation** –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç XSS
- **Structured Logging** —Å —Ä–æ—Ç–∞—Ü–∏–µ–π —Ñ–∞–π–ª–æ–≤
- **Health Checks** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **Graceful Shutdown** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- PostgreSQL
- Telegram Bot Token
- OpenAI API Key

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd assistant-gate-bot

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–æ–∑–¥–∞–µ–º .env —Ñ–∞–π–ª
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
npx prisma db push
npx prisma generate

# –°–æ–±–∏—Ä–∞–µ–º –ø—Ä–æ–µ–∫—Ç
npm run build

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤ development —Ä–µ–∂–∏–º–µ
npm run start:dev
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

#### üîë –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```bash
# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_SECRET_TOKEN=your_webhook_secret_token_here

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_ASSISTANT_ID=your_openai_assistant_id_here

# Database Configuration
DATABASE_URL="postgresql://user:password@localhost:5432/telegram_bot?schema=public"

# Admin & Security Configuration
JWT_SECRET=your_jwt_secret_minimum_32_characters_here
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_secure_admin_password_here
```

#### üì¢ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤

```bash
# Main Channel (–ø–µ—Ä–≤—ã–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª)
CHANNEL_MAIN_USERNAME=oh_my_zen
CHANNEL_MAIN_URL=https://t.me/oh_my_zen
CHANNEL_MAIN_EMOJI=üì¢

# Second Channel (–≤—Ç–æ—Ä–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª)
CHANNEL_SECOND_USERNAME=avato_ai
CHANNEL_SECOND_URL=https://t.me/avato_ai
CHANNEL_SECOND_EMOJI=üé®

# Channel Subscription Configuration
PRIMARY_CHANNEL_ID=@oh_my_zen
INITIAL_CHANNEL_IDS=@oh_my_zen,@avato_ai
```

#### üåê Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# Environment
NODE_ENV=production
PORT=3000
LOG_LEVEL=info

# Railway Webhook URL (–¥–ª—è production)
WEBHOOK_URL=https://your-app-name.railway.app/telegram/webhook
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

1. **Telegram Bot Token**:

   - –ò–¥–∏—Ç–µ –∫ [@BotFather](https://t.me/botfather)
   - –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞: `/newbot`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

2. **OpenAI API Key**:

   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [OpenAI Platform](https://platform.openai.com/api-keys)
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á

3. **OpenAI Assistant ID**:

   - –í [OpenAI Playground](https://platform.openai.com/playground) —Å–æ–∑–¥–∞–π—Ç–µ Assistant
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

4. **JWT Secret**:
   ```bash
   # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–ª—é—á
   openssl rand -hex 32
   ```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
assistant-gate-bot/
‚îú‚îÄ‚îÄ admin-panel/              # React –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/       # Login, Dashboard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts           # API –∫–ª–∏–µ–Ω—Ç —Å JWT
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.tsx          # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ package.json         # Vite + React –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ public/admin/            # –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ src/                     # NestJS backend
‚îÇ   ‚îú‚îÄ‚îÄ admin/              # Admin API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ common/             # –û–±—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
‚îÇ   ‚îú‚îÄ‚îÄ openai/             # OpenAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ subscription/       # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ telegram/           # Telegram bot –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ user/               # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îú‚îÄ‚îÄ prisma/                 # –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ logs/                   # –§–∞–π–ª—ã –ª–æ–≥–æ–≤ (production)
‚îú‚îÄ‚îÄ .env.example           # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# Development
npm run start:dev          # –ó–∞–ø—É—Å–∫ –≤ dev —Ä–µ–∂–∏–º–µ —Å hot reload

# Building
npm run build             # –°–±–æ—Ä–∫–∞ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
npm run build:admin       # –°–±–æ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
npm run build:backend     # –°–±–æ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ backend

# Production
npm run start:prod        # –ó–∞–ø—É—Å–∫ production —Å–±–æ—Ä–∫–∏
npm run deploy           # –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è Railway –¥–µ–ø–ª–æ—è

# Database
npx prisma db push       # –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É –∫ –ë–î
npx prisma generate      # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma –∫–ª–∏–µ–Ω—Ç–∞
npx prisma studio        # –û—Ç–∫—Ä—ã—Ç—å Prisma Studio

# Testing
npm run test             # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run test:e2e         # End-to-end —Ç–µ—Å—Ç—ã
```

## üåê API Endpoints

### –ü—É–±–ª–∏—á–Ω—ã–µ endpoints

- `GET /health` - Health check —Å–∏—Å—Ç–µ–º—ã
- `POST /telegram/webhook` - Telegram webhook (–∑–∞—â–∏—â–µ–Ω)

### Admin endpoints (—Ç—Ä–µ–±—É—é—Ç JWT)

- `POST /admin/login` - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞
- `GET /admin/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `GET /admin/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
- `PUT /admin/users/:id/ban` - –ë–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PUT /admin/users/:id/unban` - –†–∞–∑–±–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PATCH /admin/users/:id/ban` - –ë–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π endpoint)
- `PATCH /admin/users/:id/unban` - –†–∞–∑–±–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π endpoint)
- `PATCH /admin/users/:id/reset-requests` - –°–±—Ä–æ—Å –ª–∏–º–∏—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

- `GET /admin/*` - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (React SPA)

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Railway

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
npm run build

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
npm test
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ Railway

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `assistant-gate-bot`

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ PostgreSQL

1. –í Railway dashboard: "Add Service" ‚Üí "PostgreSQL"
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `DATABASE_URL` –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ PostgreSQL

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í Railway Variables –¥–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env.example`:

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ:**

- `TELEGRAM_BOT_TOKEN`
- `OPENAI_API_KEY`
- `OPENAI_ASSISTANT_ID`
- `DATABASE_URL`
- `JWT_SECRET`
- `ADMIN_USERNAME`
- `ADMIN_PASSWORD`
- `NODE_ENV=production`

**–ö–∞–Ω–∞–ª—ã:**

- `CHANNEL_MAIN_USERNAME`
- `CHANNEL_MAIN_URL`
- `CHANNEL_MAIN_EMOJI`
- `CHANNEL_SECOND_USERNAME`
- `CHANNEL_SECOND_URL`
- `CHANNEL_SECOND_EMOJI`
- `PRIMARY_CHANNEL_ID`
- `INITIAL_CHANNEL_IDS`

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –¥–æ–±–∞–≤—å—Ç–µ:

```bash
WEBHOOK_URL=https://your-app.railway.app/telegram/webhook
```

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

- ‚úÖ Health check: `https://your-app.railway.app/health`
- ‚úÖ Admin panel: `https://your-app.railway.app/admin/`
- ‚úÖ Telegram bot –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/start`

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã

- **Rate Limiting**: 1000 req/15min –≥–ª–æ–±–∞–ª—å–Ω–æ, 100 req/15min –¥–ª—è –∞–¥–º–∏–Ω API
- **Security Headers**: CSP, HSTS, X-Frame-Options
- **Input Validation**: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ validation pipes
- **Webhook Verification**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ Telegram
- **JWT Authentication**: –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- **Error Sanitization**: –ù–∏–∫–∞–∫–∏—Ö —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –æ—à–∏–±–∫–∞—Ö

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è `ADMIN_PASSWORD`
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ `JWT_SECRET`
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Console**: –¶–≤–µ—Ç–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è development
- **Files**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON –ª–æ–≥–∏ –¥–ª—è production
- **Rotation**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤
- **Levels**: Error, Warn, Info, Debug

### Health Check

```bash
curl https://your-app.railway.app/health
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

```json
{
  "status": "ok",
  "timestamp": "2024-01-01T00:00:00.000Z",
  "uptime": 3600,
  "database": "connected",
  "version": "1.0.0",
  "environment": "production"
}
```

## üêõ Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**

   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TELEGRAM_BOT_TOKEN`
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway

2. **OpenAI –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**

   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `OPENAI_API_KEY`
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á–µ—Ç—É
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `OPENAI_ASSISTANT_ID`

3. **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è**

   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Å–æ–±—Ä–∞–Ω—ã: `npm run build:admin`
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ `JWT_SECRET`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `ADMIN_USERNAME` –∏ `ADMIN_PASSWORD`

4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL`
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ PostgreSQL —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω –≤ Railway
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å—Ö–µ–º–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞: `npx prisma db push`

### –õ–æ–≥–∏

```bash
# Railway –ª–æ–≥–∏
railway logs --follow

# –õ–æ–∫–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
tail -f logs/error.log
tail -f logs/combined.log
```

## ü§ù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

1. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:

   ```bash
   CHANNEL_THIRD_USERNAME=new_channel
   CHANNEL_THIRD_URL=https://t.me/new_channel
   CHANNEL_THIRD_EMOJI=üéâ
   ```

2. –û–±–Ω–æ–≤–∏—Ç–µ `INITIAL_CHANNEL_IDS`:

   ```bash
   INITIAL_CHANNEL_IDS=@oh_my_zen,@avato_ai,@new_channel
   ```

3. –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ –≤ `TelegramService`:
   ```typescript
   private getThirdChannelConfig() {
     return {
       username: this.configService.get<string>('CHANNEL_THIRD_USERNAME') || 'new_channel',
       url: this.configService.get<string>('CHANNEL_THIRD_URL') || 'https://t.me/new_channel',
       emoji: this.configService.get<string>('CHANNEL_THIRD_EMOJI') || 'üéâ',
       text: `${this.configService.get<string>('CHANNEL_THIRD_EMOJI') || 'üéâ'} ${this.configService.get<string>('CHANNEL_THIRD_USERNAME') || 'new_channel'}`,
     };
   }
   ```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–º–∏—Ç–æ–≤

```bash
git commit -m "feat(telegram): –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π"
git commit -m "fix(admin): –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
git commit -m "docs(readme): –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é"
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [Troubleshooting](#-troubleshooting) —Å–µ–∫—Ü–∏—é
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ Railway dashboard
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health endpoint: `/health`

---

**üéØ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production –¥–µ–ø–ª–æ—é –Ω–∞ Railway! üöÄ**
